{% extends 'logged_in_base.html' %}
{%block autorefresh%}
<meta http-equiv="refresh" content="30" >
{%endblock%}

{%block page-header%}
  Node Status
{%endblock%}

{%block contents%}


<p id="p-instruction-text"> This page will autorefresh every 30 seconds to display updates.</p>

{% if node.node_status != -1 %}
<table class="table table-bordered table-hover" style="width:800px">
<tr>
  <th>
    Component Type
  </th>
  <th>
    Component Detail
  </th>
  <th>
    Status
  </th>
</tr>
<tr>
  <td colspan=3>
   <b>CPU</b>
  </td>
</tr>
<tr>
  <td>
    &nbsp; 
  </td>
  <td>
    Status
  </td>
  <td>
    {{node.cpu_status.status}}
  </td>
</tr>
<tr>
  <td>
    &nbsp; 
  </td>
  <td>
    Temperature
  </td>
  <td>
    {{node.cpu_status.temp}}
  </td>
</tr>
<tr>
  <td>
    &nbsp; 
  </td>
  <td>
    Load averages
  </td>
  <td>
    15 minute average : {{node.load_avg.15_min}}<br>5 minute average : {{node.load_avg.5_min}}<br> 1 minute average : {{node.load_avg.1_min}}
  </td>
</tr>
<tr>
  <td colspan=3>
   <b>System</b>
  </td>
</tr>
<tr>
  <td>
    &nbsp; 
  </td>
  <td>
    Temperature
  </td>
  <td>
    {{node.temp_status.temp}}
  </td>
</tr>
<tr>
  <td colspan=3>
   <b>Disks</b>
  </td>
</tr>
{% for disk_id, disk in  node.disks.items%}
<tr>
  <td>
  &nbsp;
  </td>
  <td>
    Serial number : {{disk_id}}, Name : {{disk.name}}
  </td>
  <td>
  {{disk.status}}
  </td>
</tr>
{%endfor%}
<tr>
  <td colspan=3>
   <b>Interfaces</b>
  </td>
</tr>
{% for if_name, interface in  node.interfaces.items%}
<tr>
  <td>
  &nbsp;
  </td>
  <td>
  Interface name : {{if_name}}
  <td>
  {{interface.status}}
  </td>
</tr>
{%endfor%}
{% for k, v in  node.fan_status.items%}
<tr>
  <td>
   Fan {{k}}
  </td>
  <td>
  {{v.status}}
  </td>
</tr>
{%endfor%}
</table>
{%else%}
Node is down
{%endif%}
{%if frm%}
<a href="/show/{{frm}}/" role="button" class="btn btn-default"><< Back </a> &nbsp;&nbsp;
{%endif%}
<a href="/flag_node?node={{node_name}}" role="button" class="btn btn-default">Activate node identification LED </a> 
<br><br>
<p> Activating the node identification LED will cause a blue LED on that node to blink for 4 minutes, to help you physically identify this node.</p>

{%endblock%}
{%block help_header%}
Node status help
{%endblock%}
{%block help_body%}
<p>Help about node statusâ€¦</p>
{%endblock%}

