{% extends 'shares_and_targets_base.html' %}
{%block tab_header %}
ISCSI targets
{%endblock%}

{% block inside_content %}
<br><br>


{% if conf %}
 <p class="text-green">{{conf}}</p><br><br>
{%endif%}
{% if warnings %}
<i>The following problems occurred during the process : {{warnings}}</i><br><br>
{%endif%}

{% if not target_list %}
No ISCSI targets appear to have been created. 
{%else %}
<div>
<table class="table table-striped table-bordered">
<thead>
<tr>
<th>
Target ID
</th>
<th>
Target Name
</th>
<th>
LUNs
</th>
<th>
Details
</th>
</thead>
{%for target in target_list %}
<tr>
  <td>
    {{target.tid}}
  </td>
  <td>
    {{target.iqn}}
  </td>
  <td>
    {%for lun in target.luns %}
    {%if lun.type == 'disk'%}
    {{lun.path}}<br>
    {%endif%}
    {%endfor%}
  </td>

  <td>
    <a href="/view_iscsi_target?name={{target.iqn}}" role="button" class="btn btn-info"> View details</a>
  </td>
</tr>
{%endfor%}
</table>
</div>
<br>
{%endif%}
<br><br>
  <a href="/create_iscsi_target/" class="btn btn-primary"> Create an ISCSI Target </a>
</p>

{%endblock%}
{%block help_header%}
View ISCSI Targets
{%endblock%}
{%block help_body%}
  <p>
    This screen lists the set of ISCSI targets that have been created.
  </p>
{%endblock%}

{% block tab_active %}
  <script>
   make_tab_active("view_iscsi_targets_tab")
  </script>
{% endblock %}
