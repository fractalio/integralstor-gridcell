{% extends 'logged_in_base.html' %}
<style type="text/css">
    ul.errorlist {
        margin: 0;
        padding: 0;
    }
    .errorlist li {
        background-color: white;
        color: red;
        display: block;
        font-size: 10px;
        margin: 0 0 3px;
        padding: 4px 5px;
    }
</style>


{%block contents%}
<span id="topic-text"> Configure -> Create a volume - Volume information</span><br>
</b> <br><br>

{%if vol_type == "distributed" %} 
You have chosen to create a volume by spreading your files over {{num_bricks}} disks.
{%else%}
You have chosen to create a volume by making {{num_bricks}} copies of each file in this volume.  <br><br>


You may also choose to spread these copies over a larger number of disks. This is useful in environments where the requirement is to scale storage with improved read performance while maintaining high data reliability. <p> <br>If you would like to do this, please select a multiple of {{num_bricks}} disks below. If not, then only select {{num_bricks}} disks.<p>
{%endif%} 

{% if app_debug %}
Executed the following command : "{{cmd}}". <br><br>
{% endif %}

{% if cmd_errors  %}

{% for err in cmd_errors%}
{{err}}<br>
{%endfor%}
</p>

{%elif cmd_output %}


{% for o in cmd_output%}
{{o}}<br>
{%endfor%}

{% else %}


<p style="color:red;"> {{error}}</p>


<form action="/create_volume/" method="post">
<input type=hidden name="vol_type" value="{{vol_type}}">
<input type=hidden name="num_bricks" value="{{num_bricks}}">
<input type=hidden name="transport" value="tcp">
        <div class="field">
            <table>
            <tr>
              <td>
            <label for="id_volume_name">Volume name:</label>
              </td>
              <td>
            {{ form.volume_name }}
              </td>
              <td>
            {{ form.volume_name.errors }}
              </td>
            </tr>
            <tr>
              <td>
            <label for="id_ips">
            Disks<br>  
            {% if vol_type == "distributed" %}
            (Select only {{num_bricks}} disks.)
            {%else%}
            (Select either {{num_bricks}} or multiples of {{num_bricks}} disks.)
            {%endif%}
              </td>
              <td>
                {{form.ips}}
              </td>
              <td>
                {{form.ips.errors}}
              </td>
            </tr>
            <tr>
              <td colspan=3 style="text-align:center">
        <input type="submit" value="Create">
              </td>
            </tr>
            </table>
        </div>
</form>

{% endif %}
{%endblock%}
{%block help_header%}
Create volume help
{%endblock%}
{%block help_body%}
<p>Help about creating volumesâ€¦</p>
{%endblock%}
