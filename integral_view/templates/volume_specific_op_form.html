{% extends base_template %}

{%block tab_header%}
  {% if op == 'vol_delete' %}
  Delete a volume
  {% elif op == 'expand_volume' %}
  Expand a volume
  {% elif op == 'view_snapshots' %}
  View snapshots
  {% elif op == 'vol_quota' %}
  Set volume quota
  {% elif op == 'vol_stop' %}
  Stop a volume
  {% elif op == 'vol_start' %}
  Start a volume
  {% elif op == 'start_rebalance' %}
  Start volume rebalance
  {% elif op == 'check_rebalance' %}
  Check volume rebalance status
  {% elif op == 'stop_rebalance' %}
  Stop volume rebalance
  {% elif op == 'enable_quota' %}
  Enable volume quota
  {% elif op == 'vol_options' %}
  Set volume options
  {% elif op == 'disable_quota' %}
  Disable volume quota
  {% elif op == 'display_disk_level_quota' %}
  Display disk level quota
  {% elif op == 'rotate_log' %}
  Rotate volume log
  {% elif op == 'view_snapshots' %}
  View volume snapshots
  {% endif %}
{%endblock%}

{%block inside_content%}
<br><br>

<!-- Modal -->


{% if no_vols %}
{% if op == "vol_stop" or op == "expand_volume" or op ==  "start_rebalance" %}
This operation requires a volume to be started first. None of the existing volume(s) are started or no volumes exist.
{%elif op == "vol_start"  or op == "vol_delete" %}
This operation requires a volume to be stopped first. None of the existing volume(s) are stopped or no volumes exist.
{%else%}
No volumes detected
{%endif%}
{%else %}
<form action="" method="post">
  <input type=hidden name="op" value="{{op}}">
<div  style=" position:relative;border:0px solid #DDDDDD;width:400px; padding:15px 15px 15px;margin:0px 15px;border-radius:4px 4px 0px 0px">
  <div class="form-group" >
    <label for="id_vol_name" >Volume name :</label>
    <select name="vol_name" class="form-control">
    {% for choice in form.vol_name.field.choices %} 
      <option value="{{choice.0}}">{{choice.1}}</option>
    {%endfor%}
    </select>
    {{ form.vol_name.errors }}
  </div>
{% if op == 'vol_start' %}
        <button type="submit" class="btn btn-primary cover-page" >Start this volume</button>
{% elif op == 'vol_stop' %}
        <button type="submit" class="btn btn-primary cover-page">Stop this volume</button>
{% elif op == 'expand_volume' %}
        <button type="submit" class="btn btn-primary cover-page">Expand this volume</button>
{% elif op == 'start_rebalance' %}
        <button type="submit" class="btn btn-primary cover-page">Start rebalance</button>
{% elif op == 'stop_rebalance' %}
        <button type="submit" class="btn btn-primary cover-page">Stop rebalance</button>
{% elif op == 'check_rebalance' %}
        <button type="submit" class="btn btn-primary cover-page">Check rebalance</button>
{% elif op == 'vol_options' %}
        <button type="submit" class="btn btn-primary cover-page">Set options</button>
{% elif op == 'view_snapshots' %}
        <button type="submit" class="btn btn-primary cover-page">View snapshots </button>
{% elif op == 'rotate_log' %}
        <button type="submit" class="btn btn-primary cover-page" >Rotate log</button>
{% else  %}
        <button type="submit" class="btn btn-primary cover-page">Next</button>
{% endif %}
</div>
</form>
{% if op == "vol_stop" or op == "expand_volume" or op ==  "start_rebalance" %}
This operation requires the volume to be started. If you do not see a volume here, please first check to make sure it is started.
{%endif%}


{%endif%}

{%endblock%}
{%block help_header%}
Volume specific operation
{%endblock%}
{%block help_body%}
<p>This is the launch screen for a volume specific operation. If the intended operation results in data loss or data access disruption, you will be prompted for a confirmation before the actual operation is performed.</p>
{%endblock%}

{% block tab_active %}
  <script>
  {% if op == 'vol_delete' or op ==  'expand_volume' or op == 'vol_quota' or op ==  'vol_stop' or op == 'vol_start' or op == 'start_rebalance' or op == 'check_rebalance' or op ==  'stop_rebalance' or op ==  'enable_quota' or op == 'vol_options' or op ==  'disable_quota'%}
    make_tab_active('volume_configuration_tab')
  {% elif op == 'rotate_log' %}
    make_tab_active('volume_log_rotate_tab')
  {% elif op == 'view_snapshots' %}
    make_tab_active('snapshot_view_tab')
  {% endif %}
  </script>
{% endblock %}

